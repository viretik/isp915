<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>–ò–°–ü-915</title>
  <!-- <link href="https://fonts.cdnfonts.com/css/gogono-cocoa-mochi" rel="stylesheet"> -->
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/photoswipe/dist/photoswipe.css">
  <script type="module">
    import PhotoSwipeLightbox from '/photoswipe/dist/photoswipe-lightbox.esm.js';
    const lightboxeasy = new PhotoSwipeLightbox({
      gallery: '#my-gallery',
      children: 'a',
      pswpModule: () => import('/photoswipe/dist/photoswipe.esm.js')
    });
    lightboxeasy.init();
  </script>

  <style>
    @font-face {
      font-family: GogonaCocoaMochi;
      src: url("/gogono-cocoa-mochi.otf");
    }

    body {
      margin: 0;
      font-family: GogonaCocoaMochi, sans-serif;
      background: #0f172a;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
      user-select: none;
    }

    .background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('photo2.jpg') center/cover no-repeat;
      filter: blur(15px);
      z-index: -1;
    }

    .info {
      display: flex;
      position: fixed;
      top: 15px;
      left: 15px;
      z-index: 10000;
    }

    .logo {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      object-fit: cover;
    }

    /* üî≤ –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç */
    .overlay-box {
      background: rgba(0,0,0,0.15);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      max-width: 95%;
      display: inline-block;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 15px;
      letter-spacing: 2px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    button {
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }
    button:hover { background: #1d4ed8; }

    /* üî• –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–≤–∞–π–ø–∞ */
    .slide-out-left { animation: slideOutLeft 0.4s forwards; }
    .slide-out-right { animation: slideOutRight 0.4s forwards; }
    .slide-in-left { animation: slideInLeft 0.4s forwards; }
    .slide-in-right { animation: slideInRight 0.4s forwards; }

    @keyframes slideOutLeft { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(-50px); } }
    @keyframes slideOutRight { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(50px); } }
    @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }

    .photo-title { font-size: 1.5em; font-weight: bold; margin-top: 10px; }

    img.main-photo {
      max-width: 90%;
      max-height: 70vh;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0,0,0,.4);
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .lightbox {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 9999;
      overflow: hidden;
    }
    .lightbox img {
      max-width: 95%;
      max-height: 90%;
      transition: transform 0.2s ease;
      cursor: grab;
      touch-action: none; /* ‚úÖ –¥–ª—è pinch-zoom */
    }
    .lightbox .close { position: absolute; top: 20px; right: 30px; font-size: 40px; color: white; cursor: pointer; }
    .lightbox .nav { position: absolute; top: 50%; font-size: 50px; color: white; cursor: pointer; user-select: none; padding: 20px; transform: translateY(-50%); }
    .lightbox .prev { left: 10px; }
    .lightbox .next { right: 10px; }

    /* üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
    @media (max-width: 768px) {
      button { font-size: 18px; padding: 12px 18px; }
      #current { font-size: 20px; }
      #schedule { font-size: 18px; line-height: 1.6; }
      .photo-title { font-size: 20px; }
    }

    .telegram-info {
      position: relative;
      left: 3px;
      border-radius: 10px;
      padding: 5px 3px;
      display: flex;
      height: fit-content;
      background: rgba(0, 0, 0, 0.3);
      box-shadow: 0 0 10px rgba(0,0,0,0.6);
      align-items: center;
      transition: 0.3s;
    }

    .telegram-info:hover {
      background: rgba(0, 0, 0, 0.488); /* 1488 üíã */
      box-shadow: 0 0 30px rgba(0,0,0,0.6);
      align-items: center;
    }

    .a-telegram {
      font-family: "Unbounded", sans-serif;
      margin-left: 5px;
      text-decoration: none;
      color: rgb(98, 178, 254);
    }
  </style>
</head>
<body>
  <div class="background"></div>
  <div class="info">
    <img src="photo4.png" alt="–õ–æ–≥–æ" class="logo" />
    <div class="telegram-info">
      <img class="telegram-logo" src="/telegram.svg" />
      <a class="a-telegram" href="https://t.me/Nerkaaaaa">@Nerkaaaaa</a>
    </div>
  </div>
  

  <!-- üî≤ –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–ª–æ–∫ -->
  <div class="overlay-box">
    <div class="container">
      <div class="controls">
        <button id="prev">‚¨Ö –í—á–µ—Ä–∞</button>
        <button id="next">–ó–∞–≤—Ç—Ä–∞ ‚û°</button>
      </div>
      <div class="current" id="current">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      <div class="schedule" id="schedule"></div>
      
      <div class="photo-title">–ü–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</div>
      <div class="pswp-gallery pswp-gallery--single-column" id="my-gallery">
        <a href="/photo.jpg"
          data-pswp-width="1280" 
          data-pswp-height="232" 
          target="_blank">
          <img id="photo" src="/photo.jpg" alt="–§–æ—Ç–æ" class="main-photo">
        </a>
      </div>
    </div>
  </div>

  <div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <span class="nav prev">&#10094;</span>
    <img id="lightbox-img" src="">
    <span class="nav next">&#10095;</span>
  </div>

  <script>
    /* ====== –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ====== */
    const scheduleData = {
      "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [["08:00","09:30","–†–∞–∑–≥–æ–≤–æ—Ä—ã –æ –≤–∞–∂–Ω–æ–º"],["09:40","11:10","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"],["11:20","12:50","–§–∏–∑–∏–∫–∞ –∫–∞–±.414"],["13:20","14:50","–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ –∫–∞–±.403"]],
      "–í—Ç–æ—Ä–Ω–∏–∫": [["08:00","09:30","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"],["09:40","11:10","–ò—Å—Ç–æ—Ä–∏—è –∫–∞–±.403"]],
      "–°—Ä–µ–¥–∞": [["11:20","12:50","–ë–∏–æ–ª–æ–≥–∏—è –∫–∞–±.319"],["13:20","14:50","–†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∫–∞–±.312"]],
      "–ß–µ—Ç–≤–µ—Ä–≥": [["08:00","09:30","–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç"],["09:40","11:10","–û—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç—ã –†–æ–¥–∏–Ω—ã"],["11:20","12:50","–ò—Å—Ç–æ—Ä–∏—è –∫–∞–±.403"],["13:20","14:50","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"]],
      "–ü—è—Ç–Ω–∏—Ü–∞": [["08:00","09:30","–•–∏–º–∏—è –∫–∞–±.320"],["09:40","11:10","–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∫–∞–±.101–∞"],["11:20","12:50","–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –∫–∞–±.410"],["13:20","14:50","–ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∫–∞–±.213"]]
    };
    const days = ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"];
    let offset = 0;

    const currentEl = document.getElementById("current");
    const scheduleEl = document.getElementById("schedule");

    function getUTC4Date() {
      const now = new Date();
      return new Date(now.getTime() + (now.getTimezoneOffset()*60000) + 4*3600*1000);
    }

    function renderSchedule(direction = null) {
      const now = getUTC4Date();
      const dayIndex = (now.getDay() + offset + 7) % 7;
      const dayName = days[dayIndex];
      const todaySchedule = scheduleData[dayName] || [];
      const timeNow = now.toTimeString().slice(0,5);

      let currentLesson = "–°–µ–π—á–∞—Å –ø–∞—Ä—ã –Ω–µ—Ç üëå";
      let timeLeft = "";

      for (let i = 0; i < todaySchedule.length; i++) {
        const [start, end, subj] = todaySchedule[i];
        if (timeNow >= start && timeNow <= end && offset === 0) {
          currentLesson = `${subj}`;
          const [endH,endM] = end.split(":").map(Number);
          const minutesLeft = (endH*60+endM) - ((now.getUTCHours()+4)*60 + now.getUTCMinutes());
          if(minutesLeft>0) timeLeft = ` ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å ${minutesLeft} –º–∏–Ω`;
          break;
        }
        if(i < todaySchedule.length-1){
          const nextStart = todaySchedule[i+1][0];
          if(timeNow > end && timeNow < nextStart && offset === 0){
            const [nextH,nextM] = nextStart.split(":").map(Number);
            const minutesLeft = (nextH*60+nextM) - ((now.getUTCHours()+4)*60 + now.getUTCMinutes());
            currentLesson = `–ü–µ—Ä–µ–º–µ–Ω–∞`;
            if(minutesLeft>0) timeLeft = ` ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å ${minutesLeft} –º–∏–Ω`;
            break;
          }
        }
      }

      function updateContent() {
        currentEl.textContent = `${dayName}: ${currentLesson}${timeLeft}`;
        scheduleEl.innerHTML =
          todaySchedule.length > 0 ? todaySchedule.map(([s,e,subj]) => `${s}‚Äì${e} ‚Äî ${subj}`).join("<br>") : "–°–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–π –Ω–µ—Ç üéâ";
      }

      if (direction) {
        const outClass = direction === "left" ? "slide-out-left" : "slide-out-right";
        const inClass  = direction === "left" ? "slide-in-right" : "slide-in-left";

        currentEl.classList.add(outClass);
        scheduleEl.classList.add(outClass);

        setTimeout(() => {
          updateContent();
          currentEl.classList.remove(outClass);
          scheduleEl.classList.remove(outClass);
          currentEl.classList.add(inClass);
          scheduleEl.classList.add(inClass);

          setTimeout(() => {
            currentEl.classList.remove(inClass);
            scheduleEl.classList.remove(inClass);
          }, 400);
        }, 400);
      } else {
        updateContent();
      }
    }

    document.getElementById("prev").addEventListener("click",()=>{ offset--; renderSchedule("right"); });
    document.getElementById("next").addEventListener("click",()=>{ offset++; renderSchedule("left"); });

    renderSchedule();
    setInterval(renderSchedule,60000);
  </script>
</body>
</html>
