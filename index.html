<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>–ò–°–ü-915</title>
  <link rel="icon" href="photo3.png" type="image/png">

  <!-- üö´ –û—Ç–∫–ª—é—á–∞–µ–º –∑—É–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <style>
    /* üîπ –ë–µ–ª—ã–π —Ç–µ–∫—Å—Ç —Å —Ç–æ–Ω–∫–æ–π —á–µ—Ä–Ω–æ–π –æ–±–≤–æ–¥–∫–æ–π */
    body, body * {
      color: #fff; /* –±–µ–ª—ã–π —Ü–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
      -webkit-text-stroke: 0.5px black; /* Chrome, Safari */
      text-stroke: 0.5px black;         /* Firefox */
    }

    body {
      margin: 0;
      font-family: sans-serif;
      background: #0f172a;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    .background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('photo2.jpg') center/cover no-repeat;
      filter: blur(15px);
      z-index: -1;
    }

    .logo {
      position: fixed;
      top: 15px;
      left: 15px;
      width: 60px;
      height: 60px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      object-fit: cover;
      z-index: 10000;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 15px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    button {
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }
    button:hover { background: #1d4ed8; }

    /* üî• –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–≤–∞–π–ø–∞ */
    .slide-out-left { animation: slideOutLeft 0.4s forwards; }
    .slide-out-right { animation: slideOutRight 0.4s forwards; }
    .slide-in-left { animation: slideInLeft 0.4s forwards; }
    .slide-in-right { animation: slideInRight 0.4s forwards; }

    @keyframes slideOutLeft { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(-50px); } }
    @keyframes slideOutRight { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(50px); } }
    @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }

    .photo-title { font-size: 1.5em; font-weight: bold; margin-top: 10px; }

    img.main-photo {
      max-width: 90%;
      max-height: 70vh;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0,0,0,.4);
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    .lightbox {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 9999;
      overflow: hidden;
    }
    .lightbox img {
      max-width: 95%;
      max-height: 90%;
      transition: transform 0.2s ease;
      cursor: grab;
      touch-action: none;
    }
    .lightbox .close { position: absolute; top: 20px; right: 30px; font-size: 40px; color: white; cursor: pointer; }
    .lightbox .nav { position: absolute; top: 50%; font-size: 50px; color: white; cursor: pointer; user-select: none; padding: 20px; transform: translateY(-50%); }
    .lightbox .prev { left: 10px; }
    .lightbox .next { right: 10px; }

    @media (max-width: 768px) {
      button { font-size: 18px; padding: 12px 18px; }
      #current { font-size: 20px; }
      #schedule { font-size: 18px; line-height: 1.6; }
      .photo-title { font-size: 20px; }
    }
  </style>
</head>
<body>
  <div class="background"></div>
  <img src="photo4.png" alt="–õ–æ–≥–æ" class="logo">

  <div class="container">
    <div class="controls">
      <button id="prev">‚¨Ö –í—á–µ—Ä–∞</button>
      <button id="next">–ó–∞–≤—Ç—Ä–∞ ‚û°</button>
    </div>
    <div class="current" id="current">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
    <div class="schedule" id="schedule"></div>
    
    <div class="photo-title">–ü–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</div>
    <img id="photo" src="photo.jpg" alt="–§–æ—Ç–æ" class="main-photo">
  </div>

  <div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <span class="nav prev">&#10094;</span>
    <img id="lightbox-img" src="">
    <span class="nav next">&#10095;</span>
  </div>

  <script>
    /* ====== –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ====== */
    const scheduleData = {
      "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [["08:00","09:30","–†–∞–∑–≥–æ–≤–æ—Ä—ã –æ –≤–∞–∂–Ω–æ–º"],["09:40","11:10","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"],["11:20","12:50","–§–∏–∑–∏–∫–∞ –∫–∞–±.414"],["13:20","14:50","–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ –∫–∞–±.403"]],
      "–í—Ç–æ—Ä–Ω–∏–∫": [["08:00","09:30","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"],["09:40","11:10","–ò—Å—Ç–æ—Ä–∏—è –∫–∞–±.403"]],
      "–°—Ä–µ–¥–∞": [["11:20","12:50","–ë–∏–æ–ª–æ–≥–∏—è –∫–∞–±.319"],["13:20","14:50","–†—É—Å—Å–∫–∏–π —è–∑—ã–∫ –∫–∞–±.319"]],
      "–ß–µ—Ç–≤–µ—Ä–≥": [["08:00","09:30","–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç"],["09:40","11:10","–û—Å–Ω–æ–≤—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∑–∞—â–∏—Ç—ã –†–æ–¥–∏–Ω—ã"],["11:20","12:50","–ò—Å—Ç–æ—Ä–∏—è –∫–∞–±.403"],["13:20","14:50","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"]],
      "–ü—è—Ç–Ω–∏—Ü–∞": [["08:00","09:30","–•–∏–º–∏—è –∫–∞–±.320"],["09:40","11:10","–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∫–∞–±.101–∞"],["11:20","12:50","–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –∫–∞–±.410"],["13:20","14:50","–ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∫–∞–±.213"]]
    };
    const days = ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"];
    let offset = 0;

    const currentEl = document.getElementById("current");
    const scheduleEl = document.getElementById("schedule");

    function getUTC4Date() {
      const now = new Date();
      return new Date(now.getTime() + (now.getTimezoneOffset()*60000) + 4*3600*1000);
    }

    function renderSchedule(direction = null) {
      const now = getUTC4Date();
      const dayIndex = (now.getDay() + offset + 7) % 7;
      const dayName = days[dayIndex];
      const todaySchedule = scheduleData[dayName] || [];
      const timeNow = now.toTimeString().slice(0,5);

      let currentLesson = "–°–µ–π—á–∞—Å –ø–∞—Ä—ã –Ω–µ—Ç üëå";
      for (const [start,end,subj] of todaySchedule) {
        if (timeNow >= start && timeNow <= end && offset === 0) {
          currentLesson = `${subj} (${start}‚Äì${end})`;
          break;
        }
      }

      function updateContent() {
        currentEl.textContent = `${dayName}: ${currentLesson}`;
        scheduleEl.innerHTML =
          todaySchedule.length > 0 ? todaySchedule.map(([s,e,subj]) => `${s}‚Äì${e} ‚Äî ${subj}`).join("<br>") : "–°–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–π –Ω–µ—Ç üéâ";
      }

      if (direction) {
        const outClass = direction === "left" ? "slide-out-left" : "slide-out-right";
        const inClass  = direction === "left" ? "slide-in-right" : "slide-in-left";

        currentEl.classList.add(outClass);
        scheduleEl.classList.add(outClass);

        setTimeout(() => {
          updateContent();
          currentEl.classList.remove(outClass);
          scheduleEl.classList.remove(outClass);
          currentEl.classList.add(inClass);
          scheduleEl.classList.add(inClass);

          setTimeout(() => {
            currentEl.classList.remove(inClass);
            scheduleEl.classList.remove(inClass);
          }, 400);
        }, 400);
      } else {
        updateContent();
      }
    }

    document.getElementById("prev").addEventListener("click",()=>{ offset--; renderSchedule("right"); });
    document.getElementById("next").addEventListener("click",()=>{ offset++; renderSchedule("left"); });

    renderSchedule();
    setInterval(renderSchedule,60000);

    /* ====== –ì–∞–ª–µ—Ä–µ—è + Zoom + –õ–∏—Å—Ç–∞–Ω–∏–µ ====== */
    const images = ["photo.jpg"];
    let currentIndex = 0, scale = 1;

    const photo = document.getElementById("photo");
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");

    photo.addEventListener("click",()=>{ currentIndex=0; openLightbox(); });

    function openLightbox(){
      lightbox.style.display="flex";
      lightboxImg.src = images[currentIndex];
      scale=1;
      lightboxImg.style.transform="scale(1)";
    }
    function closeLightbox(){ lightbox.style.display="none"; }

    document.querySelector(".lightbox .close").addEventListener("click",closeLightbox);
    document.querySelector(".lightbox .prev").addEventListener("click",()=>{ changeImg(-1); });
    document.querySelector(".lightbox .next").addEventListener("click",()=>{ changeImg(1); });

    function changeImg(dir){
      currentIndex=(currentIndex+dir+images.length)%images.length;
      lightboxImg.src=images[currentIndex];
      scale=1;
      lightboxImg.style.transform="scale(1)";
    }

    document.addEventListener("keydown",e=>{
      if(lightbox.style.display==="flex"){
        if(e.key==="ArrowLeft") changeImg(-1);
        if(e.key==="ArrowRight") changeImg(1);
        if(e.key==="Escape") closeLightbox();
      }
    });

    lightbox.addEventListener("wheel", e => {
      if (lightbox.style.display === "flex") {
        e.preventDefault();
        const rect = lightboxImg.getBoundingClientRect();
        const offsetX = e.clientX - rect.left;
        const offsetY = e.clientY - rect.top;
        const originX = (offsetX / rect.width) * 100;
        const originY = (offsetY / rect.height) * 100;
        lightboxImg.style.transformOrigin = `${originX}% ${originY}%`;
        scale += e.deltaY * -0.001;
        scale = Math.min(Math.max(1, scale), 5);
        lightboxImg.style.transform = `scale(${scale})`;
      }
    }, { passive: false });

    let startX=0;
    lightbox.addEventListener("touchstart", e=>{ startX=e.touches[0].clientX; });
    lightbox.addEventListener("touchend", e=>{
      let endX=e.changedTouches[0].clientX;
      if(startX-endX>50) changeImg(1);
      if(endX-startX>50) changeImg(-1);
    });

    let initialDistance = 0;
    let initialScale = 1;
    lightbox.addEventListener("touchstart", e=>{
      if(e.touches.length===2){
        e.preventDefault();
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        initialDistance = Math.sqrt(dx*dx + dy*dy);
        initialScale = scale;
      }
    }, { passive: false });

    lightbox.addEventListener("touchmove", e=>{
      if(e.touches.length===2){
        e.preventDefault();
        const dx = e.touches[0].clientX - e.touches[1].clientX;
        const dy = e.touches[0].clientY - e.touches[1].clientY;
        const newDistance = Math.sqrt(dx*dx + dy*dy);
        let newScale = initialScale * (newDistance / initialDistance);
        newScale = Math.min(Math.max(1, newScale), 5);
        scale = newScale;
        lightboxImg.style.transform = `scale(${scale})`;
      }
    }, { passive: false });
  </script>
</body>
</html>
