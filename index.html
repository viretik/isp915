<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>Ð˜Ð¡ÐŸ-915</title>

  <!-- Ð¤Ð°Ð²Ð¸ÐºÐ¾Ð½ÐºÐ° -->
  <link rel="icon" href="photo3.png" type="image/png">

  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: #0f172a;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      overflow: hidden;
      position: relative;
    }

    .background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('photo2.jpg') center/cover no-repeat;
      filter: blur(15px);
      z-index: -1;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 15px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    button {
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }
    button:hover { background: #1d4ed8; }

    .current { font-size: 1.3em; font-weight: bold; }
    .schedule { line-height: 1.6em; }

    img {
      max-width: 90%;
      max-height: 70vh;
      border-radius: 16px;
      box-shadow: 0 20px 40px rgba(0,0,0,.4);
      cursor: pointer;
      transition: transform 0.3s ease;
    }

    /* Lightbox */
    .lightbox {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.9);
      justify-content: center;
      align-items: center;
      z-index: 9999;
      overflow: hidden;
    }
    .lightbox img {
      max-width: 95%;
      max-height: 90%;
      transition: transform 0.2s ease;
      cursor: grab;
    }
    .lightbox .close {
      position: absolute;
      top: 20px; right: 30px;
      font-size: 40px;
      color: white;
      cursor: pointer;
    }
    .lightbox .nav {
      position: absolute;
      top: 50%;
      font-size: 50px;
      color: white;
      cursor: pointer;
      user-select: none;
      padding: 20px;
      transform: translateY(-50%);
    }
    .lightbox .prev { left: 10px; }
    .lightbox .next { right: 10px; }
  </style>
</head>
<body>
  <div class="background"></div>

  <div class="container">
    <div class="controls">
      <button id="prev">â¬… Ð’Ñ‡ÐµÑ€Ð°</button>
      <button id="next">Ð—Ð°Ð²Ñ‚Ñ€Ð° âž¡</button>
    </div>
    <div class="current" id="current">Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...</div>
    <div class="schedule" id="schedule"></div>
    <img id="photo" src="photo.jpg" alt="Ð¤Ð¾Ñ‚Ð¾">
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox">
    <span class="close">&times;</span>
    <span class="nav prev">&#10094;</span>
    <img id="lightbox-img" src="">
    <span class="nav next">&#10095;</span>
  </div>

  <script>
    /* ====== Ð Ð°ÑÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ ====== */
    const scheduleData = {
      "ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº": [["08:00","09:30","Ð Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ñ‹ Ð¾ Ð²Ð°Ð¶Ð½Ð¾Ð¼"],["09:40","11:10","ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° ÐºÐ°Ð±.322"],["11:20","12:50","Ð¤Ð¸Ð·Ð¸ÐºÐ° ÐºÐ°Ð±.414"],["13:20","14:50","ÐžÐ±Ñ‰ÐµÑÑ‚Ð²Ð¾Ð·Ð½Ð°Ð½Ð¸Ðµ ÐºÐ°Ð±.403"]],
      "Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº": [["08:00","09:30","ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° ÐºÐ°Ð±.322"],["09:40","11:10","Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ ÐºÐ°Ð±.403"]],
      "Ð¡Ñ€ÐµÐ´Ð°": [["11:20","12:50","Ð‘Ð¸Ð¾Ð»Ð¾Ð³Ð¸Ñ ÐºÐ°Ð±.319"],["13:20","14:50","Ð ÑƒÑÑÐºÐ¸Ð¹ ÑÐ·Ñ‹Ðº ÐºÐ°Ð±.319"]],
      "Ð§ÐµÑ‚Ð²ÐµÑ€Ð³": [["08:00","09:30","Ð˜Ð½Ð´Ð¸Ð²Ð¸Ð´ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚"],["09:40","11:10","ÐžÑÐ½Ð¾Ð²Ñ‹ Ð±ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚Ð¸ Ð¸ Ð·Ð°Ñ‰Ð¸Ñ‚Ñ‹ Ð Ð¾Ð´Ð¸Ð½Ñ‹"],["11:20","12:50","Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ ÐºÐ°Ð±.403"],["13:20","14:50","ÐœÐ°Ñ‚ÐµÐ¼Ð°Ñ‚Ð¸ÐºÐ° ÐºÐ°Ð±.322"]],
      "ÐŸÑÑ‚Ð½Ð¸Ñ†Ð°": [["08:00","09:30","Ð¥Ð¸Ð¼Ð¸Ñ ÐºÐ°Ð±.320"],["09:40","11:10","Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð¸ÐºÐ° ÐºÐ°Ð±.101Ð°"],["11:20","12:50","Ð›Ð¸Ñ‚ÐµÑ€Ð°Ñ‚ÑƒÑ€Ð° ÐºÐ°Ð±.410"],["13:20","14:50","Ð“ÐµÐ¾Ð³Ñ€Ð°Ñ„Ð¸Ñ ÐºÐ°Ð±.213"]]
    };
    const days = ["Ð’Ð¾ÑÐºÑ€ÐµÑÐµÐ½ÑŒÐµ","ÐŸÐ¾Ð½ÐµÐ´ÐµÐ»ÑŒÐ½Ð¸Ðº","Ð’Ñ‚Ð¾Ñ€Ð½Ð¸Ðº","Ð¡Ñ€ÐµÐ´Ð°","Ð§ÐµÑ‚Ð²ÐµÑ€Ð³","ÐŸÑÑ‚Ð½Ð¸Ñ†Ð°","Ð¡ÑƒÐ±Ð±Ð¾Ñ‚Ð°"];
    let offset = 0;

    function getUTC4Date() {
      const now = new Date();
      return new Date(now.getTime() + (now.getTimezoneOffset()*60000) + 4*3600*1000);
    }
    function renderSchedule() {
      const now = getUTC4Date();
      const dayIndex = (now.getDay() + offset + 7) % 7;
      const dayName = days[dayIndex];
      const todaySchedule = scheduleData[dayName] || [];
      const timeNow = now.toTimeString().slice(0,5);

      let currentLesson = "Ð¡ÐµÐ¹Ñ‡Ð°Ñ Ð¿Ð°Ñ€Ñ‹ Ð½ÐµÑ‚ ðŸ‘Œ";
      for (const [start,end,subj] of todaySchedule) {
        if (timeNow >= start && timeNow <= end && offset === 0) {
          currentLesson = `${subj} (${start}â€“${end})`;
          break;
        }
      }

      document.getElementById("current").textContent = `${dayName}: ${currentLesson}`;
      document.getElementById("schedule").innerHTML =
        todaySchedule.length > 0 ? todaySchedule.map(([s,e,subj]) => `${s}â€“${e} â€” ${subj}`).join("<br>")
                                 : "Ð¡ÐµÐ³Ð¾Ð´Ð½Ñ Ð·Ð°Ð½ÑÑ‚Ð¸Ð¹ Ð½ÐµÑ‚ ðŸŽ‰";
    }
    document.getElementById("prev").addEventListener("click",()=>{offset--;renderSchedule();});
    document.getElementById("next").addEventListener("click",()=>{offset++;renderSchedule();});
    renderSchedule(); setInterval(renderSchedule,60000);

    /* ====== Ð“Ð°Ð»ÐµÑ€ÐµÑ + Zoom ====== */
    const images = ["photo.jpg","photo2.jpg","photo3.png"];
    let currentIndex = 0, scale = 1;

    const photo = document.getElementById("photo");
    const lightbox = document.getElementById("lightbox");
    const lightboxImg = document.getElementById("lightbox-img");

    photo.addEventListener("click",()=>{currentIndex=0;openLightbox();});

    function openLightbox(){
      lightbox.style.display="flex";
      lightboxImg.src = images[currentIndex];
      scale=1;
      lightboxImg.style.transform="scale(1)";
    }
    function closeLightbox(){lightbox.style.display="none";}

    document.querySelector(".lightbox .close").addEventListener("click",closeLightbox);
    document.querySelector(".lightbox .prev").addEventListener("click",()=>{changeImg(-1);});
    document.querySelector(".lightbox .next").addEventListener("click",()=>{changeImg(1);});

    function changeImg(dir){
      currentIndex=(currentIndex+dir+images.length)%images.length;
      lightboxImg.src=images[currentIndex];
      scale=1;
      lightboxImg.style.transform="scale(1)";
    }

    // ÐšÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ð°
    document.addEventListener("keydown",e=>{
      if(lightbox.style.display==="flex"){
        if(e.key==="ArrowLeft") changeImg(-1);
        if(e.key==="ArrowRight") changeImg(1);
        if(e.key==="Escape") closeLightbox();
      }
    });

    // Ð—ÑƒÐ¼ ÐºÐ¾Ð»ÐµÑÐ¸ÐºÐ¾Ð¼
    lightbox.addEventListener("wheel",e=>{
      if(lightbox.style.display==="flex"){
        e.preventDefault();
        scale += e.deltaY * -0.001;
        scale = Math.min(Math.max(1, scale), 5);
        lightboxImg.style.transform=`scale(${scale})`;
      }
    },{passive:false});
  </script>
</body>
</html>
