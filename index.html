<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <title>–ò–°–ü-915</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> <!-- üì± –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Å—à—Ç–∞–±–æ–º -->
  <link rel="icon" href="/favicon.ico">
  <link rel="stylesheet" href="/photoswipe/dist/photoswipe.css">
  <script type="module">
    import PhotoSwipeLightbox from '/photoswipe/dist/photoswipe-lightbox.esm.js';
    const lightboxeasy = new PhotoSwipeLightbox({
      gallery: '#my-gallery',
      children: 'a',
      pswpModule: () => import('/photoswipe/dist/photoswipe.esm.js')
    });
    lightboxeasy.init();
  </script>

  <style>
    @font-face {
      font-family: GogonaCocoaMochi;
      src: url("/gogono-cocoa-mochi.otf");
    }

    body {
      margin: 0;
      font-family: GogonaCocoaMochi, sans-serif;
      background: #0f172a;
      color: #fff;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      position: relative;
      user-select: none;
      overflow: hidden;   /* üö´ —É–±–∏—Ä–∞–µ–º —Å–∫—Ä–æ–ª–ª */
      touch-action: none; /* üö´ –±–ª–æ–∫–∏—Ä—É–µ–º —Å–≤–∞–π–ø—ã */
    }

    .background {
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: url('photo2.jpg') center/cover no-repeat;
      filter: blur(15px);
      z-index: -1;
    }

    .info {
      display: flex;
      position: fixed;
      top: 15px;
      left: 15px;
      z-index: 10000;
    }

    .logo {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.5);
      object-fit: cover;
    }

    /* üî≤ –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–≤–∞–¥—Ä–∞—Ç */
    .overlay-box {
      background: rgba(0,0,0,0.15);
      padding: 20px;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
      max-width: 95%;
      display: inline-block;
      transition: all 0.4s ease;
    }

    .container {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      gap: 15px;
      letter-spacing: 2px;
    }

    .controls {
      display: flex;
      justify-content: center;
      gap: 10px;
    }

    button {
      background: #2563eb;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      cursor: pointer;
      font-size: 14px;
      transition: 0.2s;
    }
    button:hover { background: #1d4ed8; }

    /* üî• –ê–Ω–∏–º–∞—Ü–∏–∏ —Å–≤–∞–π–ø–∞ */
    .slide-out-left { animation: slideOutLeft 0.4s forwards; }
    .slide-out-right { animation: slideOutRight 0.4s forwards; }
    .slide-in-left { animation: slideInLeft 0.4s forwards; }
    .slide-in-right { animation: slideInRight 0.4s forwards; }

    @keyframes slideOutLeft { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(-50px); } }
    @keyframes slideOutRight { from { opacity: 1; transform: translateX(0); } to { opacity: 0; transform: translateX(50px); } }
    @keyframes slideInLeft { from { opacity: 0; transform: translateX(-50px); } to { opacity: 1; transform: translateX(0); } }
    @keyframes slideInRight { from { opacity: 0; transform: translateX(50px); } to { opacity: 1; transform: translateX(0); } }

    .photo-title { font-size: 1.5em; font-weight: bold; margin-top: 10px; cursor: pointer; }

    /* üìÖ –ü–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ */
    .week-schedule {
      max-height: 0;
      overflow: hidden;
      opacity: 0;
      margin-top: 0;
      transition: all 0.5s ease;
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      padding: 0 12px;
      text-align: left;
    }
    .week-schedule.open {
      max-height: 1000px;
      opacity: 1;
      padding: 12px;
      margin-top: 15px;
    }
    .day {
      font-weight: bold;
      margin-top: 8px;
      color: #3B82F6;
    }
    .lesson {
      margin-left: 12px;
      color: white;
    }

    /* SVG —Å—Ç—Ä–µ–ª–∫–∞ */
    .arrow {
      cursor: pointer;
      transition: transform 0.3s ease;
      display: inline-block;
      vertical-align: middle;
      margin-left: 8px;
    }
    .arrow.rotate { transform: rotate(180deg); }

/* üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
@media (max-width: 768px) {
  body {
    overflow: hidden;   /* üö´ —É–±–∏—Ä–∞–µ–º —Å–∫—Ä–æ–ª–ª */
    touch-action: none; /* üö´ –±–ª–æ–∫–∏—Ä—É–µ–º —Å–≤–∞–π–ø—ã */
  }

  /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ —Å–∞–º –±–ª–æ–∫ —Å –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º */
  .overlay-box {
    transform: scale(1.45);
    transform-origin: top center; /* –ß—Ç–æ–±—ã —É–≤–µ–ª–∏—á–∏–≤–∞–ª–æ—Å—å —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ */
  }
}


    .telegram-info {
      position: relative;
      left: 3px;
      border-radius: 10px;
      padding: 5px 3px;
      display: flex;
      height: fit-content;
      background: rgba(0, 0, 0, 0.3);
      box-shadow: 0 0 10px rgba(0,0,0,0.6);
      align-items: center;
      transition: 0.3s;
    }

    .telegram-info:hover {
      background: rgba(0, 0, 0, 0.488);
      box-shadow: 0 0 30px rgba(0,0,0,0.6);
    }

    .a-telegram {
      font-family: "Unbounded", sans-serif;
      margin-left: 5px;
      text-decoration: none;
      color: rgb(98, 178, 254);
    }
  </style>
</head>
<body>
  <div class="background"></div>
  <div class="info">
    <img src="photo4.png" alt="–õ–æ–≥–æ" class="logo" />
    <div class="telegram-info">
      <img class="telegram-logo" src="/telegram.svg" />
      <a class="a-telegram" href="https://t.me/Nerkaaaaa">@Nerkaaaaa</a>
    </div>
  </div>
  
  <!-- üî≤ –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π –±–ª–æ–∫ -->
  <div class="overlay-box">
    <div class="container">
      <div class="controls">
        <button id="prev">‚¨Ö –í—á–µ—Ä–∞</button>
        <button id="next">–ó–∞–≤—Ç—Ä–∞ ‚û°</button>
      </div>
      <div class="current" id="current">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
      <div class="schedule" id="schedule"></div>
      
      <div class="photo-title">
        –ü–æ–ª–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ 
        <svg id="toggle-arrow" class="arrow" xmlns="http://www.w3.org/2000/svg" 
             width="22" height="22" viewBox="0 0 24 24" fill="none" 
             stroke="currentColor" stroke-width="2" stroke-linecap="round" 
             stroke-linejoin="round">
          <polyline points="6 9 12 15 18 9"></polyline>
        </svg>
      </div>
      <div id="week-schedule" class="week-schedule"></div>
    </div>
  </div>

  <script>
    /* ====== –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ====== */
    const scheduleData = {
      "–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫": [
        ["08:00","09:30","–†–∞–∑–≥–æ–≤–æ—Ä—ã –æ –≤–∞–∂–Ω–æ–º"],
        ["09:40","11:10","–§–∏–∑–∏–∫–∞ –∫–∞–±.414"],
        ["11:20","12:50","–§–∏–∑—Ä–∞"],
        ["13:20","14:50","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"]
      ],
      "–í—Ç–æ—Ä–Ω–∏–∫": [
        ["11:20","12:50","–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –∫–∞–±.302 –∏–ª–∏ 303"],
        ["13:20","14:50","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"]
      ],
      "–°—Ä–µ–¥–∞": [
        ["09:40","11:10","–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ –∫–∞–±.101–∞"],
        ["11:20","12:50","–ò—Å—Ç–æ—Ä–∏—è –∫–∞–±.403"],
        ["13:20","14:50","–ë–∏–æ–ª–æ–≥–∏—è –∫–∞–±.319"]
      ],
      "–ß–µ—Ç–≤–µ—Ä–≥": [
        ["08:00","09:30","–•–∏–º–∏—è –∫–∞–±.320"],
        ["09:40","11:10","–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞ –∫–∞–±.410"],
        ["11:20","12:50","–ò–Ω–æ—Å—Ç—Ä–∞–Ω–Ω—ã–π –∫–∞–±.302 –∏–ª–∏ 303"],
        ["13:20","14:50","–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ –∫–∞–±.322"]
      ],
      "–ü—è—Ç–Ω–∏—Ü–∞": [
        ["08:00","09:30","–ì–µ–æ–≥—Ä–∞—Ñ–∏—è –∫–∞–±.213"],
        ["09:40","11:10","–†—É—Å—Å–∫–∏–π –∫–∞–±.410"],
        ["11:20","12:50","–û–±—â–µ—Å—Ç–≤–æ–∑–Ω–∞–Ω–∏–µ –∫–∞–±.403"],
        ["13:20","14:50","–§–∏–∑–∏–∫–∞ –∫–∞–±.414"]
      ]
    };

    const days = ["–í–æ—Å–∫—Ä–µ—Å–µ–Ω—å–µ","–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫","–í—Ç–æ—Ä–Ω–∏–∫","–°—Ä–µ–¥–∞","–ß–µ—Ç–≤–µ—Ä–≥","–ü—è—Ç–Ω–∏—Ü–∞","–°—É–±–±–æ—Ç–∞"];
    let offset = 0;

    const currentEl = document.getElementById("current");
    const scheduleEl = document.getElementById("schedule");

    function getUTC4Date() {
      const now = new Date();
      return new Date(now.getTime() + (now.getTimezoneOffset()*60000) + 4*3600*1000);
    }

    function renderSchedule(direction = null) {
      const now = getUTC4Date();
      const dayIndex = (now.getDay() + offset + 7) % 7;
      const dayName = days[dayIndex];
      const todaySchedule = scheduleData[dayName] || [];
      const timeNow = now.toTimeString().slice(0,5);

      let currentLesson = "–°–µ–π—á–∞—Å –ø–∞—Ä—ã –Ω–µ—Ç üëå";
      let timeLeft = "";

      for (let i = 0; i < todaySchedule.length; i++) {
        const [start, end, subj] = todaySchedule[i];
        if (timeNow >= start && timeNow <= end && offset === 0) {
          currentLesson = `${subj}`;
          const [endH,endM] = end.split(":").map(Number);
          const minutesLeft = (endH*60+endM) - ((now.getUTCHours()+4)*60 + now.getUTCMinutes());
          if(minutesLeft>0) timeLeft = ` ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å ${minutesLeft} –º–∏–Ω`;
          break;
        }
        if(i < todaySchedule.length-1){
          const nextStart = todaySchedule[i+1][0];
          if(timeNow > end && timeNow < nextStart && offset === 0){
            const [nextH,nextM] = nextStart.split(":").map(Number);
            const minutesLeft = (nextH*60+nextM) - ((now.getUTCHours()+4)*60 + now.getUTCMinutes());
            currentLesson = `–ü–µ—Ä–µ–º–µ–Ω–∞`;
            if(minutesLeft>0) timeLeft = ` ‚Äî –æ—Å—Ç–∞–ª–æ—Å—å ${minutesLeft} –º–∏–Ω`;
            break;
          }
        }
      }

      function updateContent() {
        currentEl.textContent = `${dayName}: ${currentLesson}${timeLeft}`;
        scheduleEl.innerHTML =
          todaySchedule.length > 0 ? todaySchedule.map(([s,e,subj]) => `${s}‚Äì${e} ‚Äî ${subj}`).join("<br>") : "–°–µ–≥–æ–¥–Ω—è –∑–∞–Ω—è—Ç–∏–π –Ω–µ—Ç üéâ";
      }

      if (direction) {
        const outClass = direction === "left" ? "slide-out-left" : "slide-out-right";
        const inClass  = direction === "left" ? "slide-in-right" : "slide-in-left";

        currentEl.classList.add(outClass);
        scheduleEl.classList.add(outClass);

        setTimeout(() => {
          updateContent();
          currentEl.classList.remove(outClass);
          scheduleEl.classList.remove(outClass);
          currentEl.classList.add(inClass);
          scheduleEl.classList.add(inClass);

          setTimeout(() => {
            currentEl.classList.remove(inClass);
            scheduleEl.classList.remove(inClass);
          }, 400);
        }, 400);
      } else {
        updateContent();
      }
    }

    document.getElementById("prev").addEventListener("click",()=>{ offset--; renderSchedule("right"); });
    document.getElementById("next").addEventListener("click",()=>{ offset++; renderSchedule("left"); });

    renderSchedule();
    setInterval(renderSchedule,60000);

    /* === –†–µ–Ω–¥–µ—Ä –ø–æ–ª–Ω–æ–≥–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è === */
    const weekScheduleEl = document.getElementById("week-schedule");
    const toggleArrow = document.getElementById("toggle-arrow");

    function renderFullSchedule() {
      weekScheduleEl.innerHTML = "";
      for (let day in scheduleData) {
        const dayEl = document.createElement("div");
        dayEl.className = "day";
        dayEl.textContent = day;
        weekScheduleEl.appendChild(dayEl);

        scheduleData[day].forEach(([start,end,subj]) => {
          const lessonEl = document.createElement("div");
          lessonEl.className = "lesson";
          lessonEl.textContent = `${start}‚Äì${end} ‚Äî ${subj}`;
          weekScheduleEl.appendChild(lessonEl);
        });
      }
    }

    renderFullSchedule();

    toggleArrow.addEventListener("click", () => {
      weekScheduleEl.classList.toggle("open");
      toggleArrow.classList.toggle("rotate");
    });
  </script>
</body>
</html>
